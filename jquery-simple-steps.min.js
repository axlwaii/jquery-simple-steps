(function(e){e.fn.simpleSteps=function(t){function u(t){var n,r;var i=true;var s=e(t).find(".validate.email");if(s.length>0){r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;for(n=0;n<s.length;n++){e(s[n]).removeClass("error");if(!r.test(s[n].value)){i=false;e(s[n]).addClass("error")}}}return i}function a(t){var n;var r=e(t).find(".validate.presence");var i=true;if(r.length>0){for(n=0;n<r.length;n++){e(r[n]).removeClass("error");if(r[n].value===""){i=false;e(r[n]).addClass("error")}}}return i}function f(){var t;for(t=0;t<s.length;t++){if(t!==r){e(s[t]).hide()}}}function l(){s=e(n).find(t.stepClass);f();e(s).first().show()}function c(n){e(s[r]).hide();r+=n;e(s[r]).fadeIn(t.animationSpeed)}t=e.extend({stepClass:".step",animationSpeed:500},t);var n=this,r=0,i=e(".next-step-button"),s,o;o={presence:a,email:u};i.on("click",function(){var e,t;t=true;for(e in o){if(!o[e](s[r])){t=false}}if(t){c(1)}return false});e(".prev-step-button").on("click",function(){c(-1);return false});l();return n}})(jQuery)
